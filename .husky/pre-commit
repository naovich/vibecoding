echo "ğŸ” Running pre-commit checks..."

# 0. Generate file tree
echo "ğŸŒ³ Generating file tree..."
npm run tree
git add FILE_TREE.md

# 1. lint-staged (lint + format staged files)
npx lint-staged

# 2. Check TypeScript types (fast, no emit)
echo "ğŸ“˜ Checking TypeScript types..."
npm run type-check

# 3. Check for : any usage
echo "ğŸš« Checking for 'any' usage..."
node scripts/check-no-any.js

# 4. Check file size (max 500 lines)
echo "ğŸ“ Checking file sizes..."
node scripts/check-file-size.js

echo "âœ… Pre-commit checks passed!"
